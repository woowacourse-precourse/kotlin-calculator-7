# 문자열 덧셈 계산기 

## 기능 요구 사항
- 쉼표(,) 또는 콜론(:)을 구분자로 가지는 문자열을 전달하는 경우 구분자를 기준으로 분리한 각 숫자의 합을 반환한다. ✅
  - 쉼표 또는 콜론으로 문자열을 분리한다. ✅
  - 분리된 문자열에 숫자가 아닌 문자가 존재할 경우 IllegalArgumentException 예외를 발생시키고 프로그램을 종료한다. ✅
  - 분리된 숫자(들)의 합을 반환한다.  ✅
- 앞의 기본 구분자(쉼표,콜론) 외에 커스텀 구분자를 지정할 수 있다. ✅
  - 문자열에 커스텀 구분자가 존재하는 지 판단한다. ✅
    - 커스텀 구분자가 존재한다면 커스텀 구분자를 반환한다(커스텀 구분자는 `// 와 \n` 사이에 위치) ✅
  - (추가) 커스텀 구분자가 존재한다면 필요한 입력문자만 추출한다. ✅
- 입력과 출력이 예상과 동일하게 동작한다. 
  - 정상 동작을 판단하기 위해 테스트 코드를 통해 확인한다. 
  
## 문제 해결 과정
- 현재 Application.kt 파일에서 입력과 출력 그리고 기능까지 많은 책임을 담당하고 있다.
  - 역할에 맞는 책임을 가지도록 구분해보았다.
    - 입력 : Input ✅
      - Console 라이브러리 이용해서 입력을 담당한다.
    - 검증 : Validator ✅
      - 정상적인 입력인지 검증하는 역할을 한다.
    - main : Application ✅
      - 프로그램 실행을 위한 전체적인 흐름을 담당한다.
    - 계산 : Calculator ✅
      - 입력에 대한 계산을 담당한다.
    - ~~구분 : Splitter~~
      - ~~구분자로 나누는 역할을 담당한다.~~
    - 변환기 : Converter ✅
      - 입력을 Calculator가 계산 할 수 있도록 형태를 변환한다.
    - ~~숫자 : Number~~
      - ~~일급객체 역할~~
      - List<BigInteger> 를 Numbers 일급객체로 관리를 고려하다 BigInteger 자체도 연산마다 객체를 새로 만들어 반환하고
        일급객체를 활용하기에는 너무 과한 설계 같아서 다음 미션에 적용해보려고 한다. 
    - 상수 : Constant ✅
      - 상수들을 한 곳에서 관리하기 위한 클래스
      - 커스텀 문자열을 구분하기 위한 정규표현식
        - //(.\*)\\n(.\*) : //으로 시작하면서 \n 사이에 0개 이상의 문자를 입력할 수 있으며 \n 뒤에 0개 이상의 문자를 입력할 수 있다.
          - () : 캡처그룹 생성을 의미 , 그룹1: 커스텀구분자, 그룹2: 숫자와 구분자 의미하게 된다.
  - 출력은 언어에서 제공하는 메서드를 사용하며 분리하지 않아도 될 것이라는 판단으로 생성하지 않았다.

### 문제 발생
- 코드를 완성하고나서 기본 테스트케이스를 실행하니 테스트가 실패되었다.
  - 실패한 이유를 3가지 찾을 수 있었다.
    1. while 문으로 여러 번의 입력을 받을 수 있도록 구현하였지만 제공된 테스트케이스에서는 한 번의 입력에 한해서 테스트 코드가 작성되어 있다.
       - 반복문을 제거해서 테스트를 진행할 수 있었다.
    2. 구현한 내용이 예외 테스트에 대해서 정상 입력으로 출력하고 있었다.
       - 입출력 요구사항에서 구분자와 양수로 구성된 문자열이라는 조건이 주어졌지만 현재 구현내용에서는 음수도 처리할 수 있게 되어 있었다.
       - 입력한 숫자는 양수만 처리할 수 있도록 수정하였다.
    3. `IllegalArgumentException`을 발생시킨 후 애플리케이션은 종료되어야 한다.
       - try - catch 문으로 예외를 처리하고 return 하여 main() 실행함수를 종료하는 식으로 진행했다.
       - 에러를 발생시킨 후 종료시키는 것이 요구사항이었으므로 예외를 잡아서 처리할 필요없이 예외만 발생시키고 종료하면 됐다.

### 테스트 케이스
- Converter
  - extractNumberByInput()
    - 커스텀 구분자를 포함하지 않은 입력에 대해 예상하는 반환값을 반환한다.
    - 커스텀 구분자를 포함한 입력에 대해 예상하는 반환값을 반환한다.
      - 커스텀 구분자가 여러개여도 정상적으로 동작한다.
- Validator
  - validNumber()
    - 커스텀 구분자를 포함하지 않는 입력의 경우 
      - 정상입력에 대해 예외를 반환하지 않는다.
      - 아무런 숫자와 문자가 존재하지 않는 경우 예외를 반환하지 않는다.
      - 음수가 포함되는 경우 예외를 반환한다.(`IllegalArgumentException`)
      - 0이 포함되는 경우 예외를 반환한다.(`IllegalArgumentException`)
      - 숫자가 아닌 문자가 포함되는 경우 예외를 반환한다.(`IllegalArgumentException`)
    - 커스텀 구분자를 포함하는 입력의 경우
      - 정상입력에 대해 예외를 반환하지 않는다.
      - 커스텀 구분자를 제외한 숫자 입력부분에 아무런 숫자와 문자가 존재하지 않는 경우 예외를 반환하지 않는다.
      - 음수가 포함되는 경우 예외를 반환한다.(`IllegalArgumentException`)
      - 0이 포함되는 경우 예외를 반환한다.(`IllegalArgumentException`)
      - 숫자가 아닌 문자가 포함되는 경우 예외를 반환한다.(`IllegalArgumentException`)
- Calculator
  - sum()
    - 합을 반환한다.
    - 커다란 수의 합도 반환할 수 있다.